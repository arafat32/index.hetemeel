!function(){var t={95229:function(t,e,n){"use strict";n.d(e,{Z:function(){return y}});var i={methods:{cdnBaseUrl:function(t){return Utils.cdnBaseUrl(t)},cdnImageUrl:function(t){return Utils.cdnImageUrl(t)},cdnAdminUrl:function(t){return Utils.cdnAdminUrl(t)},cdnPortfolioUrl:function(t){return Utils.cdnPortfolioUrl(t)},cdnCatCoverUrl:function(t){return Utils.cdnCatCoverUrl(t)}}},a={data:function(){return{locale:document.documentElement.lang||"ru",defaultLocale:"ru"}},computed:{l:function(){return window.l},lp:function(){return window.lp},siteLang:function(){return document.documentElement.lang},isDefaultLang:function(){return this.siteLang===this.defaultLocale},isEn:function(){return"en"===this.siteLang},isEs:function(){return"es"===this.siteLang},isFr:function(){return"fr"===this.siteLang}},methods:{forceLocale:function(t){this.locale=t}}};function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var p=new RegExp("^".concat(/(?:(?:https?|ftp):\/\/(?:[а-яёa-z0-9_-]{1,32}(?::[а-яёa-z0-9_-]{1,32})?@)?)?(?:(?:[а-яёa-z0-9-]{1,128}\.)+(?:рф|xn--p1ai|рус|xn--p1acf|укр|xn--j1amh|сайт|xn--80aswg|онлайн|xn--80asehdb|дети|xn--d1acj3b|москва|xn--80adxhks|бг|xn--90ae|срб|xn--90a3ac|бел|xn--90ais|[a-z]{2,10})|(?!0)(?:(?!0[^.]|255)[0-9]{1,3}\.){3}(?!0|255)[0-9]{1,3})(?:\/[а-яёa-z0-9.,_@%&?+=\:\~/-]*)?(?:#[^ '\"&]*)?/.source,"$"),"i"),d=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"p2nl",value:function(t){var e=t.replace(/\r\n/g,/\n/).split(/(<\/p>|<br>|<br\/>|<br \/>)/i),n=[];return _.forEach(e,(function(t){var e=t.replace(/<\/?[^>]*>/gi,"").trim();(e=he.decode(e)).length&&n.push(e)})),n.join("\n")}},{key:"isValidURL",value:function(t){return p.test(t)}},{key:"isValidEmail",value:function(t){return d.test(t)}},{key:"getMonths",value:function(){return[{id:1,name:l("srcClassesHelpersJs1","legacy-translations"),selectable:!0},{id:2,name:l("srcClassesHelpersJs2","legacy-translations"),selectable:!0},{id:3,name:l("srcClassesHelpersJs3","legacy-translations"),selectable:!0},{id:4,name:l("srcClassesHelpersJs4","legacy-translations"),selectable:!0},{id:5,name:l("srcClassesHelpersJs5","legacy-translations"),selectable:!0},{id:6,name:l("srcClassesHelpersJs6","legacy-translations"),selectable:!0},{id:7,name:l("srcClassesHelpersJs7","legacy-translations"),selectable:!0},{id:8,name:l("srcClassesHelpersJs8","legacy-translations"),selectable:!0},{id:9,name:l("srcClassesHelpersJs9","legacy-translations"),selectable:!0},{id:10,name:l("srcClassesHelpersJs10","legacy-translations"),selectable:!0},{id:11,name:l("srcClassesHelpersJs11","legacy-translations"),selectable:!0},{id:12,name:l("srcClassesHelpersJs12","legacy-translations"),selectable:!0}]}},{key:"dateDifference",value:function(t,e){var n={years:0,months:0},i=[];if(e-t>0){n.years=e.getFullYear()-t.getFullYear(),n.months=e.getMonth()-t.getMonth(),n.months<0&&(n.years-=1,n.months+=12),n.days<0&&(n.months=Math.max(0,n.months-1));for(var a=12*n.years+n.months,o=1;o<=a;o+=1){var s=new Date(t.getFullYear(),t.getMonth());i.push(s.setMonth(s.getMonth()+o))}}return i}},{key:"datePeriod",value:function(t){var e={years:0,months:0},n=t.reduce((function(t,e){return t.includes(e)?t:[].concat(r(t),[e])}),[]);e.years=Math.trunc(n.length/12),e.months=n.length%12;var i=e.years+" "+GeneralFunctions.declension(e.years,l("srcClassesHelpersJs13","legacy-translations"),l("srcClassesHelpersJs14","legacy-translations"),l("srcClassesHelpersJs15","legacy-translations")),a=e.months+" "+GeneralFunctions.declension(e.months,l("srcClassesHelpersJs16","legacy-translations"),l("srcClassesHelpersJs17","legacy-translations"),l("srcClassesHelpersJs18","legacy-translations"));switch(!0){case e.years>0&&e.months>0:return i+l("srcClassesHelpersJs19","legacy-translations")+a;case 0===e.years&&e.months>0:return a;case e.years>0&&0===e.months:return i;default:return""}}},{key:"getYears",value:function(t,e){for(var n=[],i=e;i>=t;i-=1)n.push({id:i,name:i});return n}},{key:"stripTags",value:function(t){return t.replace(/<\/?[^>]*>/gi,"")}},{key:"forEachAsync",value:function(t,e,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;a>=t.length?n&&n():e(t[a],a,(function(){i.forEachAsync(t,e,n,a+1)}))}},{key:"unescapeSlashes",value:function(t){return t.replace(/\\\\/g,"\\")}},{key:"priceClear",value:function(t,e){var n=t,i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({float:!1},e),a=i.float;return void 0===n?0:(n=(n=n.replace(/ /g,"")).replace(/^[0]+/g,""),a?("en"===window.actor_lang&&(n=n.replaceAll(",","")),parseFloat(n)):parseInt(n))}},{key:"numberFormatByLang",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=",",i=document.documentElement.lang;return"ru"===i||"fr"===i?n=" ":"de"!==i&&"es"!==i||(n="."),Utils.numberFormat(t,e,".",n)}},{key:"cutPasteSpecial",value:function(t,e){var n=t,i=[];return n=e(n=n.replace(/&[#0-9a-z]+;/g,(function(t){var e="<symbol".concat(i.length,">");return i.push({symbol:t,tag:e}),e}))),_.forEach(i,(function(t){n=n.replace(t.tag,t.symbol)})),n}}],(n=null)&&u(e.prototype,n),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),h={created:function(){var t=window.ruDomain||"",e=window.enDomain||"",n=window.exchangeDomainRu||"",i=window.ruMirrorDomain||"",a=window.enMirrorDomain||"",o=t.replace(".","\\.")+"|"+e.replace(".","\\.")+"|"+n.replace(".","\\.")+"|"+i.replace(".","\\.")+"|"+a.replace(".","\\.");this.tsUrlRegexp=new RegExp(/\[url=([^"]+?)\]([^]+?)\[\/url\]/.source,"gi"),this.userUrlRegexp=new RegExp("\\[url=(https?:\\/\\/(?:(?:www|dev|d[0-9]+)\\.)?(?:"+o+')\\/[^"]+?)\\]([^]+?)\\[\\/url\\]',"gi"),this.autoUrlRegexp=new RegExp(/(^|[^="']\s*)((?:(https?|ftp):\/\/[-A-Za-zА-Яа-я0-9+&@#/%?=~_|!:.,;()]+[-A-Za-zА-Яа-я0-9+&@#/%=~_|()]))/.source,"gi"),this.autoUrlCropRegexp=new RegExp("".concat(/(?:[.,\'!$%^*;:{}=`~(&"])/.source,"$"),"i")},methods:{formatText:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.bbcode||!1,a=n.noLinks||!1,o=new RegExp("(href|src)=('|\\\"|&quot;|&amp;quot;)","gi"),s=this.htmlspecialcharsDecode(t||""),r=!0===o.test(s),c=/<[a-z]/i.test(s);return s=(s=i?(s=(s=(s=(s=s.replace(this.tsUrlRegexp,(function(t,e,n){return a?n:'<noindex><a href="'.concat(e,'" target="_blank" rel="noopener nofollow">').concat(n,"</a></noindex>")}))).replace(/\[b\]([^]+?)\[\/b\]/gi,"<b>$1</b>")).replace(/\[size=([0-9]+)\]([^"]+?)\[\/size\]/gi,'<span style="font-size: $1px">$2</span>')).replace(/\[color=([a-z]+)\]([^"]+?)\[\/color\]/gi,'<span style="color: $1">$2</span>')).replace(/\[img\]([^"]+?)\[\/img\]/gi,'<img src="$1" alt="">'):s.replace(this.userUrlRegexp,(function(t,e,n){return'<a href="'.concat(e,'" target="_blank" rel="noopener">').concat(n,"</a>")}))).replace(/\r\n/g,"\n"),window.isChat||window.isPageTrack?(n.chatSearchQuery&&(s=s.replace(new RegExp(n.chatSearchQuery,"gi"),'<em class="searched-word">$&</em>')),s.length&&!c&&(s="<p>"+s.replace(/\n/g,"</p><p>")+"</p>")):s=s.replace(/\n/g,"<br />"),r||a||window.defferScripts.on("heJs",(function(){s=e.replaceUrl(s)})),window.emojiReplacements&&(s=window.emojiReplacements.shortcodeToSpan(s)),s},replaceUrl:function(t){var e=this;return f.cutPasteSpecial(t,(function(t){return t.replace(e.autoUrlRegexp,(function(t,n,i){var a="",o=he.decode(i);o=o.replace(e.autoUrlCropRegexp,(function(t){return t&&(a=he.encode(t)),""}));var s=o;try{s=decodeURI(s)}catch(t){}var r=he.encode(s),c=he.encode(s);return"".concat(n,'<a rel="nofollow noopener" target="_blank" class="shortened-url" href="').concat(r,'">').concat(c,"</a>").concat(a||"")}))}))},checkUrlProtocol:function(t){return/^((http|https|ftp):\/\/)/.test(t)||(t="http://"+t),t},formatUserRating:function(t){return _.round(t/20,1).toFixed(1)},htmlspecialcharsDecode:function(t){if(!t)return t;for(var e=t,n=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"'],["&#039;","'"],["&amp;#039;","'"],["&nbsp;"," "],["&amp;nbsp;"," "],["&raquo;","»"],["&amp;raquo;","»"],["&laquo;","«"],["&amp;laquo;","«"]],i=n.length,a=0;a<i;a+=1)e=e.replace(new RegExp(n[a][0],"g"),n[a][1]);return e}}};function m(t,e,n,i,a,o,s,r){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):a&&(c=r?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:l}}var g=m({mixins:[i,a,h],props:{notification:{type:Object,default:function(){return{id:0,usernameFrom:"",title:"",message:"",url:"",sourceAppId:0,badge:{url:"",color:"",icon:""},type:"",data:{}}}},vueIndex:{type:Number,default:0}},data:function(){return{dissapearTimer:null,hasMouseEnter:!1,timeToDissapear:1e4,maxTitleLength:26,notificationsTypes:{kworkModerApprove:"kwork_moder_approve",kworkModerReject:"kwork_moder_reject",orderFeedback:"order_feedback",orderFeedbackAnswer:"order_feedback_answer",track:"track",inbox:"inbox"},tracksDesc:window.tracksDesc||{},inboxDesc:window.inboxDesc||{},tracksTypes:{text:"24",imageComment:"82",extra:"13",deleteExtra:"42",payerSendTips:"49",cronWorkerCheckDone:"11",payerStagePaid:"68"},supportUserName:"Support"}},computed:{isNewNotification:function(){return this.notification.data&&void 0!==this.notification.data},getImageStyle:function(){var t={backgroundColor:this.notification.badge.color||"#D7F7E9"};return this.hasProfilePic?t.backgroundImage='url("'.concat(this.notification.badge.url,'")'):""===this.getImageHTML&&(t.backgroundImage='url("'.concat(this.cdnImageUrl("/avatar/noprofilepicture.svg"),'")')),t},hasProfilePic:function(){return!!this.notification.badge.url},isTrackTextMessage:function(){return[this.tracksTypes.text,this.tracksTypes.imageComment].indexOf(this.notification.data.type)>-1},getTitle:function(){if(this.isNewNotification){var t="";switch(this.notification.type){case this.notificationsTypes.kworkModerApprove:case this.notificationsTypes.kworkModerReject:t=this.notification.data.kworkTitle;break;case this.notificationsTypes.orderFeedback:case this.notificationsTypes.orderFeedbackAnswer:t=this.notification.data.orderName;break;case this.notificationsTypes.track:t=this.isTrackTextMessage?this.notification.data.username:this.notification.data.orderName;break;case this.notificationsTypes.inbox:t=this.notification.data.isFromSupport?l("legacyTranslation1","components/popup-notifications/popup-notifications-item"):this.notification.data.isFromModerator?l("moderator","roles/moderator"):this.notification.data.username}return this.hasMessage,t.length>this.maxTitleLength?"".concat(t.slice(0,this.maxTitleLength-1),"..."):t}var e=this.notification.title;return this.notification.message.length&&e.length>this.maxTitleLength?"".concat(e.slice(0,this.maxTitleLength-1),"..."):e},hasMessage:function(){return this.isNewNotification?this.notification.data&&this.notification.data.message&&this.notification.data.message.length>0:this.notification.message.length>0},getMessage:function(){if(this.isNewNotification){var t="";switch(this.notification.type){case this.notificationsTypes.kworkModerApprove:t=l("legacyTranslation2","components/popup-notifications/popup-notifications-item");break;case this.notificationsTypes.kworkModerReject:t=l("legacyTranslation3","components/popup-notifications/popup-notifications-item");break;case this.notificationsTypes.orderFeedback:t=this.notification.data.isGood?l("legacyTranslation5","components/popup-notifications/popup-notifications-item",[this.notification.data.raterName,this.notification.data.comment]):l("legacyTranslation6","components/popup-notifications/popup-notifications-item",[this.notification.data.raterName,this.notification.data.comment]);break;case this.notificationsTypes.orderFeedbackAnswer:t="".concat(l("legacyTranslation4","components/popup-notifications/popup-notifications-item"),":<br>").concat(this.notification.data.message);break;case this.notificationsTypes.track:t=this.getTrackMessage;break;case this.notificationsTypes.inbox:t=this.getInboxMessage}return t=window.emojiReplacements.shortcodeToSpan(t),t=this.formatText(t,{bbcode:!0,noLinks:!0})}var e=this.notification.message;return e=window.emojiReplacements.shortcodeToSpan(this.notification.message),e=this.formatText(e,{bbcode:!0,noLinks:!0})},getSimpleMessage:function(){return this.hasMessage?this.notification.data.message:this.notification.data.fileCount&&this.notification.data.fileCount>0?lp("legacyTranslation10","components/popup-notifications/popup-notifications-item",this.notification.data.fileCount):""},getTrackMessage:function(){if(this.isTrackTextMessage)return this.getSimpleMessage;var t=this.notification.data.checkPeriod?lp("legacyTranslation9","components/popup-notifications/popup-notifications-item",this.notification.data.checkPeriod,[this.notification.data.checkPeriod]):3,e=this.tracksDesc[this.notification.data.type];switch(this.notification.data.type){case this.tracksTypes.extra:return e.titleByTrackStatus[this.notification.data.trackStatus];case this.tracksTypes.payerSendTips:case this.tracksTypes.deleteExtra:return e.title;case this.tracksTypes.cronWorkerCheckDone:return this.notification.data.isFromPayer?l("legacyTranslation7","components/popup-notifications/popup-notifications-item",[t]):l("legacyTranslation8","components/popup-notifications/popup-notifications-item",[t]);case this.tracksTypes.payerStagePaid:return this.notification.data.stageCount>1?e.title_multi:e.title_single}var n="";return e&&(n=this.notification.data.isFromPayer?this.notification.data.hasPaidStages&&e.worker_has_paid_stage?e.worker_has_paid_stage:e.worker:this.notification.data.hasPaidStages&&e.payer_has_paid_stage?e.payer_has_paid_stage:e.payer),""===n&&(n=this.notification.data.hasPaidStages&&e.title_has_paid_stage?e.title_has_paid_stage:e.title),n},getInboxMessage:function(){return this.notification.data.type&&this.inboxDesc[this.notification.data.type]?this.inboxDesc[this.notification.data.type]:this.getSimpleMessage},getUrlTarget:function(){return this.notification.sourceAppId&&window.CURRENT_APP_ID&&this.notification.sourceAppId!==window.CURRENT_APP_ID?"_blank":null},getFirstLetter:function(){var t=this.notification.usernameFrom?this.notification.usernameFrom.slice(0,1):null;return!(Number.isInteger(parseInt(t))||"_"===t||"-"===t||!t)&&t},getImageHTML:function(){return this.notification.badge.icon?'<img width="35" height="35" src="'+this.cdnImageUrl("/track/"+this.notification.badge.icon+".svg")+'" alt="">':!this.hasProfilePic&&this.getFirstLetter?this.getFirstLetter:""}},mounted:function(){var t=this;this.startTimer(),window.defferScripts.on("touchSwipe",(function(){$(t.$el).swipe({swipeRight:function(){t.close()},threshold:100})}))},methods:{close:function(t){t&&(t.preventDefault(),t.stopPropagation()),this.clearTimer(),this.$emit("close",this.vueIndex)},clearTimer:function(){clearTimeout(this.dissapearTimer)},startTimer:function(){this.dissapearTimer=setTimeout(this.close,this.timeToDissapear)},mouseEnterHandler:function(){this.hasMouseEnter||this.clearTimer()},mouseLeaveHandler:function(){this.hasMouseEnter||(this.startTimer(),this.hasMouseEnter=!0)}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"popup-notifications-item",attrs:{href:t.notification.url,target:t.getUrlTarget},on:{mouseenter:t.mouseEnterHandler,mouseleave:function(e){return e.target!==e.currentTarget?null:t.mouseLeaveHandler.apply(null,arguments)}}},[n("div",{staticClass:"popup-notifications-item__close",on:{click:function(e){return t.close(e)}}}),t._v(" "),n("div",{staticClass:"popup-notifications-item__image",style:t.getImageStyle,domProps:{innerHTML:t._s(t.getImageHTML)}}),t._v(" "),n("div",{staticClass:"popup-notifications-item__text"},[n("div",{staticClass:"popup-notifications-item__title",class:{"popup-notifications-item__title__online":t.hasMessage}},[t._v("\n\t\t\t"+t._s(t.getTitle)+"\n\t\t")]),t._v(" "),n("div",{staticClass:"popup-notifications-item__message",domProps:{innerHTML:t._s(t.getMessage)}})])])}),[],!1,null,null,null),y=m({name:"popup-notifications",components:{PopupNotificationsItem:g.exports},mixins:[{data:function(){return{isTouchDevice:!1,mobileVersion:!1,windowInnerWidth:window.innerWidth}},created:function(){var t="ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0;this.isTouchDevice=t,window.addEventListener("resize",this.updateMobileStatus),t&&window.addEventListener("orientationchange",this.updateMobileStatus),this.updateMobileStatus()},beforeDestroy:function(){window.removeEventListener("resize",this.updateMobileStatus),this.isTouchDevice&&window.removeEventListener("orientationchange",this.updateMobileStatus)},methods:{updateMobileStatus:function(){this.windowInnerWidth=window.innerWidth,this.mobileVersion=this.windowInnerWidth<768}}}],data:function(){return{notifications:[],ignoredUserName:""}},computed:{reversedNotifications:function(){return this.notifications.slice().reverse()}},mounted:function(){var t=this;window&&window.bus&&(window.bus.$on("POPUP_NOTIFICATIONS_ADD",this.addNotification),window.bus.$on("POPUP_NOTIFICATIONS_REMOVE",this.removeItemById),window.bus.$on("POPUP_NOTIFICATIONS_EDIT",this.editNotification),window.bus.$on("POPUP_NOTIFICATIONS_IGNORE_USERNAME",(function(e){t.ignoredUserName=e})))},beforeDestroy:function(){window&&window.bus&&(window.bus.$off("POPUP_NOTIFICATIONS_ADD"),window.bus.$off("POPUP_NOTIFICATIONS_REMOVE"),window.bus.$off("POPUP_NOTIFICATIONS_EDIT"),window.bus.$off("POPUP_NOTIFICATIONS_IGNORE_USERNAME"))},methods:{addNotification:function(t){var e,n=t.id,i=t.title,a=t.message,o=t.url,s=t.usernameFrom,r=t.badge,c=t.sourceAppId,l=t.type,u=t.data;e=void 0===u?{id:n,usernameFrom:s,title:i,message:a,url:o,badge:r,sourceAppId:c}:{id:n,usernameFrom:s,url:o,sourceAppId:c,badge:r,type:l,data:u};var p=new URL(window.location.origin+o),d=new URL(window.location.href),f=this.ignoredUserName&&""!==this.ignoredUserName&&this.ignoredUserName===s&&-1===n.indexOf("track_"),h="/track"===p.pathname&&p.pathname===d.pathname&&p.searchParams.get("id")===d.searchParams.get("id");if(f||h)return!1;this.notifications.push(e),this.autoRemoveNotificationsForMobile()},removeItem:function(t){var e=this.notifications.length-1-t,n=this.notifications.slice(0,e),i=[];0!==t&&(i=this.notifications.slice(-t)),this.notifications=[].concat(n,i)},getArrayIndexById:function(t){return this.notifications.findIndex((function(e){return e.id===t}))},removeItemById:function(t){var e=this.getArrayIndexById(t);-1!==e&&this.notifications.splice(e,1)},editNotification:function(t){var e,n=t.id,i=t.title,a=t.message,o=t.url,s=t.usernameFrom,r=t.badge,c=t.sourceAppId,l=t.type,u=t.data;e=void 0===u?{id:n,usernameFrom:s,title:i,message:a,url:o,badge:r,sourceAppId:c}:{id:n,usernameFrom:s,url:o,sourceAppId:c,badge:r,type:l,data:u};var p=this.getArrayIndexById(n);-1!==p&&Vue.set(this.notifications,p,e)},autoRemoveNotificationsForMobile:function(){if(this.mobileVersion){var t=this.$el.offsetParent;(t.offsetTop+t.offsetHeight)/window.innerHeight>.6&&this.removeItem(this.notifications.length-1)}}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{staticClass:"popup-notifications__list",attrs:{name:"popup-notifications-item",tag:"div"}},t._l(t.reversedNotifications,(function(e,i){return n("popup-notifications-item",{key:e.id,attrs:{notification:e,"vue-index":i},on:{close:t.removeItem}})})),1)}),[],!1,null,null,null).exports}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Object.defineProperty(n,"p",{get:function(){try{if("string"!=typeof chunkCdnUrl)throw new Error("WebpackRequireFrom: 'chunkCdnUrl' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return chunkCdnUrl}catch(t){return console.error(t),"/"}},set:function(t){console.warn("WebpackRequireFrom: something is trying to override webpack public path. Ignoring the new value"+t+".")}}),deferScript("vueBootstrap",(function(){$((function(){Vue.component("popup-notifications",n(95229).Z),addScriptToQueue((function(){window.popupNotifications=new Vue({el:"#popup-notifications-app"})}))}))}),window.defferVuePages)}();
!function(){"undefined"!=typeof __webpack_require__&&Object.defineProperty(__webpack_require__,"p",{get:function(){try{if("string"!=typeof chunkCdnUrl)throw new Error("WebpackRequireFrom: 'chunkCdnUrl' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return chunkCdnUrl}catch(o){return console.error(o),"/"}},set:function(o){console.warn("WebpackRequireFrom: something is trying to override webpack public path. Ignoring the new value"+o+".")}});var o=new function(){var o,n,e=null,i="popup-portfolio",r="js-portfolio-image",a="js-portfolio-prev",s="js-portfolio-next",c="wrapper-content",p="wrapper-content--pdf",d="portfolio-large__content",f="portfolio-large__content-animate",u="portfolio-view-page",h="js-portfolio-content-item-wrapper",v="js-portfolio-large-review-wrapper",w="js-portfolio-switch-hide-control",g="js-portfolio-header",m="js-portfolio-header-count",b="popup-portfolio__watch",y="popup-portfolio__switch-zoom",I="portfolio-large__review-open",C="portfolio-header--transition",j="portfolio-large__review-wrapper--transition",k="popup_content",x="wrapper-content--pdf-loading",T={$content:null,$topZoomScroll:null,$bottomZoomScroll:null,$switchHideControl:null,$popup:null},S=null,M=!1,H=[],P=4,L=.7,Q=.04,U=!1,Y=!1,Z=!!window.isModeration,A=100,X=$("body").hasClass("is-real-mobile"),q=[],F=-1,R=0,V=-1,z=-1,W=0,B=function(t,l){if(!t||!l)return!1;G();var r={};if(o&&(r.mode=o),n&&(r.ids=n),Z&&(r.isModeration=!0),"bgLoad"!=l){if(r.isWebpAccepted=window.isWebpAccepted?1:0,X){var a=_.find(H,(function(o){return o.id===parseInt(l)}));if(a)return G(a.html),Ao(),to(),void(X&&(J(),$o()))}S=$.ajax({type:"POST",url:t+l,dataType:"html",data:r,success:function(o){l,X&&(M=!0,Zo(l,o,!0)),G(o),Ao(),to(),window.LazyLoad.loadAllImages($("."+i).get(0)),X&&(J(),$o())},error:function(){K()},complete:function(){S=null}})}else window.loadMoreFunction(!1,(function(o){e=o}),e,!0)},E=function(o){if(null==o||null==o||""==o)return!1;X&&$("body").css("touch-action","none"),window.loadMoreXhr&&window.loadMoreXhr.abort(),B("/portfolio_large/",o)},O=function(o){var t=$(o).find(".js-content-item-pdf").length>0,n=t?N():"";if(X||$("."+i).find(".bg-overlay").remove(),$("."+i).length){$("."+i).find(".wrapper-content").html(o);var e=$(".".concat(i)).find(".".concat(c));e.length>0&&(e.toggleClass(x,t),e.append(n)),ho(),X&&(uo(),T.$content=$("."+d),T.$topZoomScroll=$(".js-top-zoom-scroll"),T.$bottomZoomScroll=$(".js-bottom-zoom-scroll"),T.$switchHideControl=$("."+w),Io())}else{$("body").append('\n\t\t\t\t<div class="popup-portfolio portfolio_large" style="display: none;">\n\t\t\t\t\t<div class="popup-portfolio-content">\n\t\t\t\t\t\t<a href="javascript: window.portfolioCard.close();" class="js-popup-close popup-portfolio__close">\n\t\t\t\t\t\t\t<span class="popup-portfolio__close-icon"></span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class="wrapper-content">\n\t\t\t\t\t\t\t'.concat(o,"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t")),T.$popup=$("."+i);var l=Utils.getScrollBarWidth(),r=$(".js-popup-close");l&&r.css({right:parseInt(r.css("top"))+l}),lockBodyForPopup(),T.$popup.fadeIn(200)}no(),X||($('<div class="bg-overlay"></div>').insertBefore($(".popup-portfolio .wrapper-content")),$(".control, .control-overlay").appendTo(".bg-overlay"))},D=function(){var o=$(".".concat(i)).find(".".concat(c));if(o.length>0){var t=o.find(".modal-loader");t.length&&t.remove(),o.removeClass(x)}},J=function(){if(_portfolioIds.all){var o=_portfolioIds.current?_portfolioIds.all.indexOf(_portfolioIds.current.toString())+1:1;$("."+m).html(o+"/"+_portfolioIds.all.length)}},G=function(o){null!=o&&null!=o&&""!=o||(o=N()),e||(e=window.location.href),O(o)},N=function(){return'<div class="modal-loader">\n\t\t\t\t\t<div class="ispinner ispinner--gray ispinner--animating ispinner--large">\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t\t<div class="ispinner__blade"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>'},K=function(o){null!=o&&null!=o&&""!=o||(o=l("srcLegacyJsPortfolioViewPopupJs1","legacy-translations"));var t="";o&&(t='<div class="portfolio-error">\n\t\t\t\t<a href="javascript: window.portfolioCard.close();" class="js-popup-close popup-close">\n\t\t\t\t\t<span class="kwork-icon icon-close"></span>\n\t\t\t\t</a>\n\t\t\t\t<img src="Utils.cdnImageUrl(\'/collage/default_category@x1.jpg\')">\n\t\t\t\t{msgError}\n\t\t\t</div>'),O(t)},oo=function(){if(X&&($("body").css("touch-action",""),Co(),U=!1),S&&S.abort(),!jQuery("body").find(".popup-portfolio.portfolio_large").length)return!1;co("pageUrl"),e=null,H=[],$(".js-portfolio-card-preloaded").remove(),unlockBodyForPopup(),jQuery("."+i).hide();var o=setInterval((function(){jQuery("."+i).remove(),clearInterval(o)}),350)},to=function(){var o=$(".portfolio-large"),t=o.data("portfolio-id"),n=parseInt(o.data("porfolio-views")),e=$('.portfolio-card-collage[data-id="'+t+'"] .detail_views');o.hasClass("portfolio-large_has_view")||((n+=1)>0&&e.removeClass("hidden"),e.find(".count").html(n))},no=function(o){skipLocal=!!o;var e,l,r=jQuery("."+i);r.find("."+c);0==skipLocal&&(r.scrollTop(0),e=jQuery("."+i),(l=e.find("."+k).data("mode"))&&e.addClass(l),function(){_portfolioIds={all:null,current:null,prev:null,next:null};var o=jQuery("."+i).find("."+k),t=o.data("portfolioId");if(t){var e=n||o.data("portfolioAllIds");if(e&&(e+="",_portfolioIds.all=e.split(",")),t&&(_portfolioIds.current=t),_portfolioIds.all){var l=null,r=_portfolioIds.all?_portfolioIds.all.length:0;_portfolioIds.current&&$.each(_portfolioIds.all,(function(o,t){t==_portfolioIds.current&&(l=o)})),_portfolioIds.next=l+1<=r-1?_portfolioIds.all[l+1]:_portfolioIds.all[0],_portfolioIds.prev=l-1>=0?_portfolioIds.all[l-1]:_portfolioIds.all[r-1],M&&(Yo(parseInt(_portfolioIds.prev)),Yo(parseInt(_portfolioIds.next)))}}}(),Z||co(_portfolioIds.current),_portfolioIds.all&&_portfolioIds.all.length>1&&(_portfolioIds.prev&&jQuery("."+a).show(),_portfolioIds.next&&jQuery("."+s).show())),Y&&t(),ro();jQuery(".portfolio-large").hasClass("js-one-video");isMobile()&&window.defferScripts.on("touchSwipe",(function(){var o=$(".popup-portfolio .popup-portfolio-content");if(o.length>0){var t={swipeLeft:function(){X&&(U=!0),E(_portfolioIds.next)},swipeRight:function(){X&&(U=!0),E(_portfolioIds.prev)}};X&&(t.allowPageScroll="vertical",t.maxTimeThreshold=200),o.swipe(t)}}))},eo=function(){var o=$("."+v);o.length&&!o.hasClass("portfolio-large__review-wrapper-not-transition")&&(o.hasClass(I)?lo(o):io(o))},io=function(o){o.css("bottom",0),o.addClass(I)},lo=function(o){var t=o.height();t>A&&o.css("bottom",A-t),o.removeClass(I)},ro=function(o){var t=jQuery("."+i+", ."+u).find(".js-portfolio-edit-field");1!=o?0!=o&&null!=window.portfolioList?t.show():t.hide():t.show()},ao=function(o){eLocal=o||window.e,27===(eLocal.which||eLocal.keyCode)&&oo()},so=function(o){eLocal=o||window.e;var t=eLocal.which||eLocal.keyCode,n=jQuery("."+i),e=n.length,l=n.find("#message_body");e&&(l.is(":focus")||(39===t&&_portfolioIds.next&&E(_portfolioIds.next),37===t&&_portfolioIds.prev&&E(_portfolioIds.prev)))},co=function(o){o&&("pageUrl"!=o?history.replaceState({},null,"/portfolio/"+o):history.replaceState({},null,e))};function po(){co("pageUrl"),e=null}var fo,uo=function(){var o=$("."+v);if(o.length){o.addClass("portfolio-large__review-wrapper-not-transition");var t=o.height();o.css("bottom",""),t>108&&o.css("bottom",A-t),setTimeout((function(){o.removeClass("portfolio-large__review-wrapper-not-transition")}),1)}},ho=function(){$(".content-item:not(.portfolio-video-wrapper)").each((function(o,t){var n=$(this),e=n.find(".has-loader"),i=n.find(".content-item__loader");e.one("load",(function(){i.remove(),e.removeClass("has-loader")})).each((function(){this.complete&&$(this).load()}))}))},vo=function(){jQuery(this).closest(".portfolio-about__description").find(".js-about-description").toggleClass("hidden")},wo=function(o){var t=$("."+g),n=$("."+v);if(o.hasClass(b))t.css("top",-t.innerHeight()),n.css("bottom",-n.innerHeight());else{t.css("top","");var e=n.innerHeight();n.hasClass(I)||e<A?n.css("bottom",0):n.css("bottom",A-e)}},go=function(o){var t=$("."+g),n=$("."+v);t.toggleClass(C,o),n.toggleClass(j,o)},$o=function(){T.$popup.hasClass(b)?(go(!1),wo(T.$popup),setTimeout((function(){go(!0),U||(T.$popup.removeClass(b),wo(T.$popup)),U=!1}))):U=!1},_o=function(){uo(),$("."+h).css("top",0)},mo=function(o){o.offsetX<$(this).width()/2&&_portfolioIds.prev?window.portfolioCard.prev():_portfolioIds.next&&window.portfolioCard.next()},bo=function(o){var t=$("."+i);if((new Date).getTime()-W<500){W=0;var n=T.$content.data("scale");T.$content.addClass(f),!t.hasClass(y)&&n<P?(t.addClass(y),jo(o.clientX,o.clientY,n,P)):(t.removeClass(y),T.$topZoomScroll.css("height",""),T.$bottomZoomScroll.css("height",""),Uo(0,0,1)),setTimeout((function(){T.$content.removeClass(f)}),200)}else t.toggleClass(b),wo(t),W=(new Date).getTime()},yo=function(){$("body").off("click","."+w,bo).on("click","."+w,bo)},Io=((fo=jQuery("body")).off("keyup",ao).on("keyup",ao),fo.off("keyup",so).on("keyup",so),fo.off("click touchend",".js-about-description",vo).on("click",".js-about-description",vo),fo.off("click touchend",".js-default-portfolio-url",po).on("click",".js-default-portfolio-url",po),fo.off("click","."+r,mo).on("click","."+r,mo),window.bus.$on("pdf-portfolio-loaded",D),X&&(fo.off("click","."+v,eo).on("click","."+v,eo),yo(),$(window).off("resize",_o).on("resize",_o)),jQuery("."+u).length&&ho(),function(){T.$switchHideControl.length>0&&(T.$switchHideControl[0].onpointerdown=xo,T.$switchHideControl[0].onpointermove=Mo,T.$switchHideControl[0].onpointerup=To,T.$switchHideControl[0].onpointercancel=To,T.$switchHideControl[0].onpointerout=To,T.$switchHideControl[0].onpointerleave=To)}),Co=function(){T.$switchHideControl.length>0&&(T.$switchHideControl[0].onpointerdown=void 0,T.$switchHideControl[0].onpointermove=void 0,T.$switchHideControl[0].onpointerup=void 0,T.$switchHideControl[0].onpointercancel=void 0,T.$switchHideControl[0].onpointerout=void 0,T.$switchHideControl[0].onpointerleave=void 0)},jo=function(o,t,n,e){var i=T.$content.data("left")*n,l=T.$content.data("top")*n,r=T.$content.offset(),a=o-r.left+i,s=t-r.top+l,c=ko(a,s,a-(a-i)/n,s-(s-l)/n,e);Lo(T.$content,"scale3d(".concat(e,", ").concat(e,", ").concat(e,") translate3d(").concat(c.x,"px, ").concat(c.y,"px, 0)"));var p=Math.abs(T.$content.data("top"))-Math.abs(c.y);if(T.$content.data("scale",e),T.$content.data("left",c.x),T.$content.data("top",c.y),e>1||c.y<0){var d=T.$popup.outerHeight(),f=(d*e-d)/e+c.y;T.$topZoomScroll.css("height","".concat(Math.abs(c.y),"px")),T.$bottomZoomScroll.css("height","".concat(f,"px"));var u=T.$content.scrollTop();T.$content.scrollTop(u-p)}else{var h=T.$topZoomScroll.height();T.$topZoomScroll.css("height",""),T.$bottomZoomScroll.css("height","");var v=T.$content.scrollTop();T.$content.scrollTop(v+h)}},ko=function(o,t,n,e,i){var l={x:(o-o*i)/i+n,y:(t-t*i)/i+e};return l.y=l.y>0?0:l.y,l},xo=function(o){q.push(o),T.$content.stop(),q.length>1&&$("body").off("click","."+w,bo)},To=function(o){if(So(o),q.length<2&&(F=-1,Qo(),setTimeout((function(){yo()}),500)),q.length<1){if(V=-1,z=-1,Math.abs(R)>5&&!T.$popup.hasClass(b)){var t=Math.abs(R)/5,n=R*t;window.defferScripts.on("jqueryEasing",(function(){T.$content.animate({scrollTop:T.$content.scrollTop()+n},1500,"easeOutQuint")}))}R=0}},So=function(o){for(var t=0;t<q.length;t+=1)if(q[t].pointerId===o.pointerId){q.splice(t,1);break}},Mo=function(o){Ho(o)},Ho=_.throttle((function(o){for(var t=T.$content.data("scale"),n=0;n<q.length;n+=1)if(o.pointerId===q[n].pointerId){q[n]=o;break}if(2===q.length){var e=Math.pow(Math.abs(q[0].clientX-q[1].clientX),2),i=Math.pow(Math.abs(q[0].clientY-q[1].clientY),2),l=Math.sqrt(e+i),r=Math.abs(q[0].clientX+q[1].clientX)/2,a=Math.abs(q[0].clientY+q[1].clientY)/2;if(F>0){var s=Math.max(Q*(Math.abs(l-F)/5),Q),c=t;l>F?c=t<P?t+s:P:l<F&&(c=t>L?t-s:L),jo(r,a,t,c)}F=l}else if(1==q.length){if(V>-1){var p=T.$content.scrollTop()+(R=(V-q[0].clientY)/t);T.$content.scrollTop(p)}if(z>-1){var d=T.$content.data("left"),f=(z-q[0].clientX)/t;if(f<0){var u=Math.max(d,f);Po(T.$content,0,0,u)}else if(f>0){var h=T.$content.width(),v=(h*t-h)/t+d,w=Math.min(v,f);Po(T.$content,0,0,w)}}V=q[0].clientY,z=q[0].clientX}}),10),Po=function(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=o.data("scale")-t,l=o.data("top")-n,r=o.data("left")-e;Lo(o,"scale3d(".concat(i,", ").concat(i,", ").concat(i,") translate3d(").concat(r,"px, ").concat(l,"px, 0)")),o.data("scale",i),o.data("top",l),o.data("left",r)},Lo=function(o,t){o.css("-webkit-transform",t).css("transform",t)},Qo=function(){var o=$("."+d);o.data("scale")<1&&(o.addClass(f),Uo(0,0,1),setTimeout((function(){o.removeClass(f)}),200))},Uo=function(o,t,n){T.$content.data("scale",n),T.$content.data("left",o),T.$content.data("top",t),Lo(T.$content,"scale3d(".concat(n,", ").concat(n,", ").concat(n,") translate3d(").concat(o,"px, ").concat(t,"px, 0)"))},Yo=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(X&&!(o<=0)){var t=_.find(H,(function(t){return t.id===o}));t||$.post("/portfolio_large/".concat(o)).success((function(t){Zo(o,t)}))}},Zo=function(o,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];H.push({id:o,html:t}),n||setTimeout((function(){var o=$('<div class="hidden js-portfolio-card-preloaded">'.concat(t,"</div>"));$("body").append(o),setTimeout((function(){o.remove()}),100)}),0),H.length>12&&H.splice(0,1)},Ao=function(){var o=$(".".concat(i," .").concat(c));$(".js-content-item-pdf").length?(o.addClass(p),$("#app-portfolio-view-popup").length>0&&(window.portfolioViewPopup=new Vue({el:"#app-portfolio-view-popup"}),setTimeout((function(){ho()})))):o.removeClass(p)};return{getPortfolio:function(o,t){t||o,E(o)},getFirstPortfolio:function(o){!function(o){if(null==o||null==o||""==o)return!1;B("/kwork_first_portfolio/",o),G()}(o)},close:function(){oo()},next:function(){_portfolioIds.next&&E(_portfolioIds.next)},prev:function(){_portfolioIds.prev&&E(_portfolioIds.prev)},setMode:function(t){o=t},setAllIds:function(o){n=o},standAlone:function(){no(!0)},isShowPortfolioEditField:function(o){ro(o)},setApiReady:function(){Y=!0}}};function t(){setTimeout((function(){window.portfolioCard.setApiReady()}));var o=[],t=function(o){$(o.target.getIframe()).parent().data("autoplay")&&o.target.playVideo()},n=function(t){if(t.data===YT.PlayerState.PLAYING)for(var n=t.target.getVideoUrl(),e=0;e<o.length;e+=1)o[e].getVideoUrl()!==n&&o[e].pauseVideo()};$(".iframe-ya-player").each((function(){var e=this;$(this).length&&setTimeout((function(){var i=$(e).attr("id"),l=$(e).data("ykey"),r=new YT.Player(i,{videoId:l,events:{onReady:t,onStateChange:n}});o.push(r)}))}))}window.portfolioCard=o,t(),window.onYouTubeIframeAPIReadyPopup=t}();